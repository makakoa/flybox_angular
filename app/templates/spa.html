<link rel="stylesheet" type="text/css" href="CSS/spa.css">

<header data-ng-init='init()'>
  <h1>Flybox</h1>
  <a data-ng-click='main=""'><button>Inbox</button></a>
  <a data-ng-click='main="";mode="compose"'><button>Compose</button></a>
  <p>Hello {{user.name}}</p>
  <a data-ng-click='main="account"'><button>Account</button></a>
  <button data-ng-click='logOut()'>Log out</button>
  <p>As: {{current}}</p>
  <ul data-ng-show='(accounts.length>1)'><p>Switch to</p>
    <button data-ng-repeat='account in accounts' data-ng-click='switchTo(account)'>{{account.name}}</button>
  </ul>
</header>

<article>
  <data-ng-switch id='main' on='main'>

    <div id='account' data-ng-switch-when='account'>
      <account-page></account-page>
    </div>

    <div id='multi' data-ng-switch-default>

      <div id='inbox-comp'>
        <inbox-section data-ng-click='mode=""'></inbox-section>
      </div>

      <div id='side'>
        <data-ng-switch on='mode'>

          <div id='box-comp' data-ng-switch-default>
            <single-box></single-box>
          </div>

          <div id='compose' data-ng-switch-when='compose'>
            <compose-box></compose-box>
          </div>

        </data-ng-switch>
      </div>

    </div>
  </data-ng-switch>
</article>
